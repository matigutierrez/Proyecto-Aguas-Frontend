<div layout-padding>
  <div flex="94" flex-offset="3" flex-md="94" flex-offset-md="3" flex-sm="94" flex-offset-sm="3" flex-xs="94" flex-offset-xs="3" class="fond mar">
    <div layout-padding>
      <div layout="row" layout-xs="column">
        <div flex="20" flex-xs="90" flex-offset-xs="5">
          <h2>Informacion Cliente</h2>
        </div>
        <div flex>
          <div layout="row">
            <md-icon class="ima" md-svg-src="/assets/img/usuario.svg"></md-icon>
            <h2 class="ima">{{ vm.noticia.nombre + ' ' + vm.noticia.apellido_pater + ' ' + vm.noticia.apellido_mater }}</h2>
          </div>
          <div layout="row">
            <md-icon class="ima" md-svg-src="/assets/img/marca.svg"></md-icon>
            <p class="ima">{{ vm.noticia.residencia }}</p>
          </div>
          <div layout="row">
            <md-icon class="ima" md-svg-src="/assets/img/telefono.svg"></md-icon>
            <p class="ima">+{{ vm.noticia.telefono }}</p>
          </div>
          <div layout="row">
            <md-icon class="ima" md-svg-src="/assets/img/correo.svg"></md-icon>
            <p class="ima">{{ vm.noticia.email }}</p>
          </div>
        </div>
      </div>
      <div ng-cloak>
        <md-tabs md-dynamic-height md-border-bottom>
          <md-tab label="vivienda">
            <div class="md-padding">
              <md-table-container>
                <table md-table md-row-select multiple md-progress="promise">
                  <thead md-head md-order="query.order" md-on-reorder="getDesserts">
                    <tr md-row>
                      <th md-column md-order-by="nameToLower"><span>Código</span></th>
                      <th md-column md-numeric md-order-by="calories.value"><span>Dirección</span></th>
                      <th md-column md-numeric>Subsidio</th>
                      <th md-column md-numeric>Fecha Ingreso</th>
                      <th md-column md-numeric>Ubicación</th>
                      <th md-column md-numeric>Estado</th>
                    </tr>
                  </thead>
                  <tbody md-body>
                    <tr md-row md-select="dessert" md-select-id="name" md-auto-select class="tabla" ng-repeat="viviend in vm.vivienda">
                      <td md-cell>{{ viviend.id }}</td>
                      <td md-cell>{{ viviend.direccion }}</td>
                      <td md-cell>{{ viviend.subsidio.des_subsidio }}</td>
                      <td md-cell>{{ viviend.fecha_ingreso }}</td>
                      <td md-cell>{{ viviend.comuna.des_comu }}</td>
                      <td md-cell>{{ viviend.estado.des_estado }}</td>
                    </tr>
                  </tbody>
                </table>
              </md-table-container>
              <md-table-pagination md-limit="query.limit" md-limit-options="[5, 10, 15]" md-page="query.page" md-total="{{desserts.count}}" md-on-paginate="getDesserts" md-page-select></md-table-pagination>
            </div>
          </md-tab>
          <md-tab label="medidor">
            <div class="md-padding">
              <md-table-container>
                <table md-table md-row-select multiple md-progress="promise">
                  <thead md-head md-order="query.order" md-on-reorder="getDesserts">
                    <tr md-row>
                      <th md-column md-order-by="nameToLower"><span>Código</span></th>
                      <th md-column md-numeric md-order-by="calories.value"><span>Número</span></th>
                      <th md-column md-numeric>Marca</th>
                      <th md-column md-numeric>Fecha Registro</th>
                      <th md-column md-numeric>Lectura Incial</th>
                      <th md-column md-numeric>Vivienda</th>
                      <th md-column md-numeric>Estado</th>
                    </tr>
                  </thead>
                  <tbody md-body>
                    <tr md-row md-select="dessert" md-select-id="name" md-auto-select class="tabla" ng-repeat="medi in vm.medidor">
                      <td md-cell>{{ medi.id }}</td>
                      <td md-cell>{{ medi.num_medidor }}</td>
                      <td md-cell>{{ medi.marca_medidor }}</td>
                      <td md-cell>{{ medi.fecha_registro }}</td>
                      <td md-cell>{{ medi.lectura_inicial }}</td>
                      <td md-cell>{{ medi.vivienda.direccion }}</td>
                      <td md-cell>{{ medi.estado_medidor.des_estado_medidor }}</td>
                    </tr>
                  </tbody>
                </table>
              </md-table-container>
              <md-table-pagination md-limit="query.limit" md-limit-options="[5, 10, 15]" md-page="query.page" md-total="{{desserts.count}}" md-on-paginate="getDesserts" md-page-select></md-table-pagination>
            </div>
          </md-tab>
          <md-tab label="boletas">
            <div class="md-padding">
              <md-table-container>
                <table md-table md-row-select multiple md-progress="promise">
                  <thead md-head md-order="query.order" md-on-reorder="getDesserts">
                    <tr md-row>
                      <th md-column md-order-by="nameToLower"><span>Nro Boleta</span></th>
                      <th md-column md-numeric>Cliente</th>
                      <th md-column md-numeric>Domicilio</th>
                      <th md-column md-numeric>Monto a Pagar</th>
                      <th md-column md-numeric>Lectura Ant/Act</th>
                      <th md-column md-numeric>Consumo</th>
                      <th md-column md-numeric>Subsidio</th>
                      <th md-column md-numeric>Total</th>
                      <th md-column md-numeric>Fecha Pago</th>
                      <th md-column md-numeric></th>
                      <th md-column md-numeric></th>
                    </tr>
                  </thead>
                  <tbody md-body>
                    <tr md-row md-select="dessert" md-select-id="name" md-auto-select class="tabla" ng-repeat="boleta in vm.boleta">
                      <td md-cell>{{ boleta.nro_boleta }}</td>
                      <td md-cell>{{ boleta.nombre_cliente }}</td>
                      <td md-cell>{{ boleta.domicilio }}</td>
                      <td md-cell>{{ boleta.monto_pagar }}</td>
                      <td md-cell>{{ boleta.lectura_anterior + ' | ' + boleta.lectura_actual}}</td>
                      <td md-cell>{{ boleta.consumo }}</td>
                      <td md-cell>{{ boleta.subsidio }}</td>
                      <td md-cell>{{ boleta.total }}</td>
                      <td md-cell>{{ boleta.fecha_pago }}</td>
                      <td md-cell><md-button md-colors="{background: 'Red'}" ui-sref="pdf" layout-fill>PDF</md-button></td>
                      <td md-cell><md-button md-colors="{background: 'Red'}" layout-fill ng-click="vm.descarga()" download="vm.pdf">Descargar PDF</md-button></td>
                    </tr>
                  </tbody>
                </table>
              </md-table-container>
              <md-table-pagination md-limit="query.limit" md-limit-options="[5, 10, 15]" md-page="query.page" md-total="{{desserts.count}}" md-on-paginate="getDesserts" md-page-select></md-table-pagination>
            </div>
          </md-tab>
        </md-tabs>
      </div>
    </div>
  </div>
</div>
