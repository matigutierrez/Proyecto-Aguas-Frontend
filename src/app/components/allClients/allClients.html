<div layout-padding>
  <div class="fond mar">
    <div flex flex-md flex-sm flex-xs class="mar">
      <div layout-xs="column" layout-xs="column" layout="row" layout-align="center center" style="margin-top: -70px;">
        <center layout-align="center center">
          <h3>Todos los Registros</h3>
        </center>
      </div>
      
      <div ng-cloak>
        <md-content>
          <md-tabs md-dynamic-height md-border-bottom>

            <md-tab label="Clientes">
              <div flex="40" flex-offset="30" flex-md="60" flex-offset-md="20" flex-sm="70" flex-offset-sm="15" flex-xs="90" flex-offset-xs="5" class="mar">
                <div flex flex-xs="90" flex-offset-xs="5">
                  <div layout-xs="column" layout-xs="column" layout="column" layout-align="center center" style="margin-top: -70px;">
                    <center>
                      <h4>INGRESE NOMBRE DEL CLIENTE</h4>
                    </center>
                  </div>  
                  <div flex layout="row" style="margin-top: -10px; margin-bottom: -20px;">
                    <div flex="30" flex-offset="30" flex-xs="60" flex-offset-xs="10"> 
                      <md-input-container>
                        <input ng-model="vm.datocliente" type="text" placeholder="Buscar...">
                      <md-input-container>
                    </div> 
                    <div flex=10 flex-xs="20">
                        <md-button class="md-fab md-primary" aria-label="Use Android" md-colors="{background: 'light-blue-600'}" ng-click="vm.busquedaCliente(vm.datocliente)">
                            <md-icon md-svg-src="/assets/img/busqueda.svg"></md-icon>
                        </md-button>
                    </div>
                  </div>
                </div>
              </div>
              
              <div flex="94" flex-offset="3" flex-md="94" flex-offset-md="3" flex-xs="94" flex-offset-xs="3" class="fond" style="margin-bottom: 20px">
                <md-table-container>
                  <table md-table md-row-select multiple md-progress="promise">
                    <thead md-head md-order="query.order">
                      <tr md-row>
                        <th md-column md-numeric>ID</th>
                        <th md-column md-numeric>RUT</th>
                        <th md-column md-numeric>Nombre</th>
                        <th md-column md-numeric>Apellidos</th>
                        <th md-column md-numeric>Telefono</th>
                        <th md-column md-numeric>Email</th>
                        <th md-column md-numeric>Subsidio</th>
                        <th md-column md-numeric ng-if="vm.usuario.superadmin == 1"></th>
                        <th md-column md-numeric ng-if="vm.usuario.superadmin == 1"></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row md-select="dessert" md-select-id="name" md-auto-select class="tabla" ng-repeat="client in vm.cliente | filter:vm.datocliente">
                        <td md-cell>{{ client.id }}</td>
                        <td md-cell>{{ client.rut_cliente }}</td>
                        <td md-cell>{{ client.nombre }}</td>
                        <td md-cell>{{ client.apellido_pater + ' ' + client.apellido_mater }}</td>
                        <td md-cell>{{ client.telefono }}</td>
                        <td md-cell>{{ client.email }}</td>
                        <td md-cell>{{ client.subsidio_id }}</td>
                        <td md-cell ng-if="vm.usuario.superadmin == 1">
                          <md-button class="md-icon-button" ng-click="vm.updatecliente(client.id)" style="margin-right: -40px;">
                            <md-icon  md-svg-icon="/assets/img/edituser.svg"></md-icon>
                          </md-button>
                        </td>
                        <td md-cell ng-if="vm.usuario.superadmin == 1">
                          <md-button class="md-icon-button" ng-click="vm.eliminarcliente(client.id)" style="margin-right: -25px;">
                            <md-icon  md-svg-icon="/assets/img/deleteuser.svg"></md-icon>
                          </md-button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>
                <md-table-pagination md-limit="query.limit" md-limit-options="[5, 10, 15]" md-page="query.page" md-total="{{desserts.count}}" md-on-paginate="getDesserts" md-page-select></md-table-pagination>
              </div>
              <div layout="row" flex layout-xs="column">
                <md-button class="md-icon-button md-raised" layout-fill ui-sref="menuAdmin" style="margin-bottom: 10px; margin-top: -13px;">
                  <md-icon  md-svg-icon="/assets/img/back3.svg"></md-icon>
                </md-button>
              </div> 

            </md-tab>

            <md-tab label="Viviendas">
              <div flex="40" flex-offset="30" flex-md="60" flex-offset-md="20" flex-sm="70" flex-offset-sm="15" flex-xs="90" flex-offset-xs="5" class="mar">
                <div flex flex-xs="90" flex-offset-xs="5">
                  <div layout-xs="column" layout-xs="column" layout="column" layout-align="center center" style="margin-top: -70px;">
                    <center>
                      <h4>INGRESE DIRECCIÓN</h4>
                    </center>
                  </div>  
                  <div flex layout="row" style="margin-top: -10px; margin-bottom: -20px;">
                    <div flex="30" flex-offset="30" flex-xs="60" flex-offset-xs="10"> 
                      <md-input-container>
                        <input ng-model="vm.datovivienda" type="text" placeholder="Buscar...">
                      <md-input-container>
                    </div> 
                    <div flex=10 flex-xs="20">
                        <md-button class="md-fab md-primary" aria-label="Use Android" md-colors="{background: 'light-blue-600'}" ng-click="vm.busquedaVivienda(vm.datovivienda)">
                            <md-icon md-svg-src="/assets/img/busqueda.svg"></md-icon>
                        </md-button>
                    </div>
                  </div>
                </div>
              </div>
              <div flex="94" flex-offset="3" flex-md="94" flex-offset-md="3" flex-xs="94" flex-offset-xs="3" class="fond" style="margin-bottom: 20px">
                <md-table-container>
                  <table md-table md-row-select multiple md-progress="promise">
                    <thead md-head md-order="query.order" md-on-reorder="getDesserts">
                      <tr md-row>
                        <th md-column md-numeric>Codigo</th>
                        <th md-column md-numeric>Dirección</th>
                        <th md-column md-numeric>Fecha Ingreso</th>
                        <th md-column md-numeric>Ubicación</th>
                        <th md-column md-numeric>Estado</th>
                        <th md-column md-numeric ng-if="vm.usuario.superadmin == 1"></th>
                        <th md-column md-numeric ng-if="vm.usuario.superadmin == 1"></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row md-select="dessert" md-select-id="name" md-auto-select class="tabla" ng-repeat="viviend in vm.vivienda | filter:vm.datovivienda">
                        <td md-cell>{{ viviend.id }}</td>
                        <td md-cell>{{ viviend.direccion }}</td>
                        <td md-cell>{{ viviend.fecha_ingreso }}</td>
                        <td md-cell>{{ viviend.comuna.des_comu }}</td>
                        <td md-cell>{{ viviend.estado.des_estado }}</td>
                        <td md-cell ng-if="vm.usuario.superadmin == 1">
                          <md-button class="md-icon-button" ng-click="vm.actualizarvivienda(viviend.id)" style="margin-right: -40px;">
                            <md-icon  md-svg-icon="/assets/img/edituser.svg"></md-icon>
                          </md-button>
                        </td>
                        <td md-cell ng-if="vm.usuario.superadmin == 1">
                          <md-button class="md-icon-button" ng-click="vm.eliminarvivienda(viviend.id)" style="margin-right: -25px;">
                            <md-icon  md-svg-icon="/assets/img/deleteuser.svg"></md-icon>
                          </md-button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>
                <md-table-pagination md-limit="query.limit" md-limit-options="[5, 10, 15]" md-page="query.page" md-total="{{desserts.count}}" md-on-paginate="getDesserts" md-page-select></md-table-pagination>
              </div>
              <div layout="row" flex layout-xs="column">
                <md-button class="md-icon-button md-raised" layout-fill ui-sref="menuAdmin" style="margin-bottom: 10px; margin-top: -13px;">
                  <md-icon  md-svg-icon="/assets/img/back3.svg"></md-icon>
                </md-button>
              </div> 
            </md-tab>

            <md-tab label="Medidores">
              <div flex="40" flex-offset="30" flex-md="60" flex-offset-md="20" flex-sm="70" flex-offset-sm="15" flex-xs="90" flex-offset-xs="5" class="mar">
                <div flex flex-xs="90" flex-offset-xs="5">
                  <div layout-xs="column" layout-xs="column" layout="column" layout-align="center center" style="margin-top: -70px;">
                    <center>
                      <h4>INGRESE MARCA DEL MEDIDOR</h4>
                    </center>
                  </div>
                  <div flex layout="row" style="margin-top: -10px; margin-bottom: -20px;">
                    <div flex="30" flex-offset="30" flex-xs="60" flex-offset-xs="10"> 
                      <md-input-container>
                        <input ng-model="vm.datomedidor" type="text" placeholder="Buscar...">
                      <md-input-container>
                    </div> 
                    <div flex=10 flex-xs="20">
                      <md-button class="md-fab md-primary" aria-label="Use Android" md-colors="{background: 'light-blue-600'}" ng-click="vm.busquedaMedidor(vm.datomedidor)">
                          <md-icon md-svg-src="/assets/img/busqueda.svg"></md-icon>
                      </md-button>
                    </div>
                  </div>
                </div>
              </div>
              <div flex="94" flex-offset="3" flex-md="94" flex-offset-md="3" flex-xs="94" flex-offset-xs="3" class="fond" style="margin-bottom: 20px">
                <md-table-container>
                  <table md-table md-row-select multiple md-progress="vm.medidor">
                    <thead md-head md-order="query.order" md-on-reorder="getDesserts">
                      <tr md-row>
                        <th md-column md-numeric>ID</th>
                        <th md-column md-numeric>Código</th>
                        <th md-column md-numeric>Marca</th>
                        <th md-column md-numeric>Fecha Registro</th>
                        <th md-column md-numeric>Lectura Inicial</th>
                        <th md-column md-numeric>Vivienda</th>
                        <th md-column md-numeric>Estado</th>
                        <th md-column md-numeric ng-if="vm.usuario.superadmin == 1"></th>
                        <th md-column md-numeric ng-if="vm.usuario.superadmin == 1"></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row md-select="dessert" md-select-id="name" md-auto-select class="tabla" ng-repeat="medid in vm.medidor | filter:vm.datomedidor">
                        <td md-cell>{{ medid.id }}</td>
                        <td md-cell>{{ medid.num_medidor }}</td>
                        <td md-cell>{{ medid.marca_medidor }}</td>
                        <td md-cell>{{ medid.fecha_registro }}</td>
                        <td md-cell>{{ medid.lectura_inicial }}</td>
                        <td md-cell>{{ medid.vivienda.direccion }}</td>
                        <td md-cell>{{ medid.estado_medidor.des_estado_medidor }}</td>
                        <td md-cell ng-if="vm.usuario.superadmin == 1">
                          <md-button class="md-icon-button" ng-click="vm.actualizarmedidor(medid.id)" style="margin-right: -40px;">
                            <md-icon  md-svg-icon="/assets/img/edituser.svg"></md-icon>
                          </md-button>
                        </td>
                        <td md-cell ng-if="vm.usuario.superadmin == 1">
                          <md-button class="md-icon-button" ng-click="vm.eliminarmedidor(medid.id)" style="margin-right: -25px;">
                            <md-icon  md-svg-icon="/assets/img/deleteuser.svg"></md-icon>
                          </md-button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>
                <md-table-pagination md-limit="query.limit" md-limit-options="[5, 10, 15]" md-page="query.page" md-total="{{desserts.count}}" md-on-paginate="getDesserts" md-page-select></md-table-pagination>
              </div>
              <div layout="row" flex layout-xs="column">
                <md-button class="md-icon-button md-raised" layout-fill ui-sref="menuAdmin" style="margin-bottom: 10px; margin-top: -13px;">
                  <md-icon  md-svg-icon="/assets/img/back3.svg"></md-icon>
                </md-button>
              </div>
            </md-tab>
          </md-tabs>
        </md-content>
      </div>
    </div>
  </div>
</div>